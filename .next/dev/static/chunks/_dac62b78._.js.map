{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hkeep/Desktop/World%20Markets/components/WorldMap.js"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { memo } from \"react\";\r\nimport {\r\n    ComposableMap,\r\n    Geographies,\r\n    Geography,\r\n    Marker,\r\n    ZoomableGroup\r\n} from \"react-simple-maps\";\r\nimport { Tooltip } from \"react-tooltip\";\r\n\r\nconst geoUrl = \"https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json\";\r\n\r\nconst WorldMap = ({ data }) => {\r\n    return (\r\n        <div className=\"map-container glass-panel\">\r\n            <ComposableMap projection=\"geoMercator\" projectionConfig={{ scale: 120 }}>\r\n                <ZoomableGroup center={[0, 20]} zoom={1} minZoom={1} maxZoom={4}>\r\n                    <Geographies geography={geoUrl}>\r\n                        {({ geographies }) =>\r\n                            geographies.map((geo) => (\r\n                                <Geography\r\n                                    key={geo.rsmKey}\r\n                                    geography={geo}\r\n                                    fill=\"#2a2a2a\" // Neutral dark grey for land\r\n                                    stroke=\"#404040\"\r\n                                    strokeWidth={0.5}\r\n                                    style={{\r\n                                        default: { outline: \"none\" },\r\n                                        hover: { fill: \"#333333\", outline: \"none\" },\r\n                                        pressed: { outline: \"none\" },\r\n                                    }}\r\n                                />\r\n                            ))\r\n                        }\r\n                    </Geographies>\r\n\r\n                    {data.map((idx) => {\r\n                        // Logic for coloring\r\n                        const state = idx.marketState || 'CLOSED'; // Default to closed if unknown\r\n                        const isClosed = state === 'CLOSED' || state === 'POST' || state === 'PRE' || state === 'POSTPOST';\r\n                        const isPositive = (idx.changePercent || 0) >= 0;\r\n\r\n                        // User Rule: \"Grey if closed and then if open and positive then green, red for negative\"\r\n                        let color = '#737373'; // Neutral Grey (Default/Closed)\r\n\r\n                        if (!isClosed) {\r\n                            color = isPositive ? '#22c55e' : '#ef4444'; // Green : Red\r\n                        }\r\n\r\n                        // Tooltip Content\r\n                        const priceDisplay = idx.price ? idx.price.toLocaleString() : 'N/A';\r\n                        const returnDisplay = idx.changePercent ? idx.changePercent.toFixed(2) : '0.00';\r\n                        const gainDisplay = idx.changeAmount ? idx.changeAmount.toFixed(2) : '0.00';\r\n\r\n                        const toolTipContent = `\r\n               <div style=\"font-weight:bold; margin-bottom:4px;\">${idx.name} (${idx.symbol})</div>\r\n               <div>Price: ${priceDisplay}</div>\r\n               <div>Return: ${returnDisplay}%</div>\r\n               <div>Gain: ${gainDisplay}</div>\r\n               <div style=\"font-size:0.8em; opacity:0.7; margin-top:4px;\">${state}</div>\r\n             `;\r\n\r\n                        return (\r\n                            <Marker key={idx.symbol} coordinates={[idx.long, idx.lat]}>\r\n                                <a\r\n                                    data-tooltip-id=\"my-tooltip\"\r\n                                    data-tooltip-html={toolTipContent}\r\n                                    data-tooltip-place=\"top\"\r\n                                >\r\n                                    <circle\r\n                                        r={5}\r\n                                        fill={color}\r\n                                        stroke=\"#fff\"\r\n                                        strokeWidth={0.5}\r\n                                        style={{ cursor: 'pointer', transition: 'all 0.3s ease' }}\r\n                                        className=\"marker-circle\"\r\n                                    />\r\n                                    <text\r\n                                        textAnchor=\"middle\"\r\n                                        y={1.5}\r\n                                        style={{\r\n                                            fontFamily: \"system-ui\",\r\n                                            fill: \"#fff\",\r\n                                            fontSize: \"3px\",\r\n                                            fontWeight: \"bold\",\r\n                                            pointerEvents: \"none\"\r\n                                        }}\r\n                                    >\r\n                                        {Math.abs(idx.changePercent || 0).toFixed(1)}%\r\n                                    </text>\r\n                                </a>\r\n                            </Marker>\r\n                        );\r\n                    })}\r\n                </ZoomableGroup >\r\n            </ComposableMap >\r\n            <Tooltip id=\"my-tooltip\" style={{ backgroundColor: \"#242424\", color: \"#e5e5e5\", border: \"1px solid #404040\", borderRadius: \"8px\", zIndex: 999 }} />\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default memo(WorldMap);\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAOA;AAVA;;;;;AAYA,MAAM,SAAS;AAEf,MAAM,WAAW,CAAC,EAAE,IAAI,EAAE;IACtB,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC,mLAAa;gBAAC,YAAW;gBAAc,kBAAkB;oBAAE,OAAO;gBAAI;0BACnE,cAAA,6LAAC,mLAAa;oBAAC,QAAQ;wBAAC;wBAAG;qBAAG;oBAAE,MAAM;oBAAG,SAAS;oBAAG,SAAS;;sCAC1D,6LAAC,iLAAW;4BAAC,WAAW;sCACnB,CAAC,EAAE,WAAW,EAAE,GACb,YAAY,GAAG,CAAC,CAAC,oBACb,6LAAC,+KAAS;wCAEN,WAAW;wCACX,MAAK;wCACL,QAAO;wCACP,aAAa;wCACb,OAAO;4CACH,SAAS;gDAAE,SAAS;4CAAO;4CAC3B,OAAO;gDAAE,MAAM;gDAAW,SAAS;4CAAO;4CAC1C,SAAS;gDAAE,SAAS;4CAAO;wCAC/B;uCATK,IAAI,MAAM;;;;;;;;;;wBAe9B,KAAK,GAAG,CAAC,CAAC;4BACP,qBAAqB;4BACrB,MAAM,QAAQ,IAAI,WAAW,IAAI,UAAU,+BAA+B;4BAC1E,MAAM,WAAW,UAAU,YAAY,UAAU,UAAU,UAAU,SAAS,UAAU;4BACxF,MAAM,aAAa,CAAC,IAAI,aAAa,IAAI,CAAC,KAAK;4BAE/C,yFAAyF;4BACzF,IAAI,QAAQ,WAAW,gCAAgC;4BAEvD,IAAI,CAAC,UAAU;gCACX,QAAQ,aAAa,YAAY,WAAW,cAAc;4BAC9D;4BAEA,kBAAkB;4BAClB,MAAM,eAAe,IAAI,KAAK,GAAG,IAAI,KAAK,CAAC,cAAc,KAAK;4BAC9D,MAAM,gBAAgB,IAAI,aAAa,GAAG,IAAI,aAAa,CAAC,OAAO,CAAC,KAAK;4BACzE,MAAM,cAAc,IAAI,YAAY,GAAG,IAAI,YAAY,CAAC,OAAO,CAAC,KAAK;4BAErE,MAAM,iBAAiB,CAAC;iEACiB,EAAE,IAAI,IAAI,CAAC,EAAE,EAAE,IAAI,MAAM,CAAC;2BAChE,EAAE,aAAa;4BACd,EAAE,cAAc;0BAClB,EAAE,YAAY;0EACkC,EAAE,MAAM;aACrE,CAAC;4BAEU,qBACI,6LAAC,4KAAM;gCAAkB,aAAa;oCAAC,IAAI,IAAI;oCAAE,IAAI,GAAG;iCAAC;0CACrD,cAAA,6LAAC;oCACG,mBAAgB;oCAChB,qBAAmB;oCACnB,sBAAmB;;sDAEnB,6LAAC;4CACG,GAAG;4CACH,MAAM;4CACN,QAAO;4CACP,aAAa;4CACb,OAAO;gDAAE,QAAQ;gDAAW,YAAY;4CAAgB;4CACxD,WAAU;;;;;;sDAEd,6LAAC;4CACG,YAAW;4CACX,GAAG;4CACH,OAAO;gDACH,YAAY;gDACZ,MAAM;gDACN,UAAU;gDACV,YAAY;gDACZ,eAAe;4CACnB;;gDAEC,KAAK,GAAG,CAAC,IAAI,aAAa,IAAI,GAAG,OAAO,CAAC;gDAAG;;;;;;;;;;;;;+BAzB5C,IAAI,MAAM;;;;;wBA8B/B;;;;;;;;;;;;0BAGR,6LAAC,kLAAO;gBAAC,IAAG;gBAAa,OAAO;oBAAE,iBAAiB;oBAAW,OAAO;oBAAW,QAAQ;oBAAqB,cAAc;oBAAO,QAAQ;gBAAI;;;;;;;;;;;;AAG1J;KAvFM;2DAyFS,IAAA,qKAAI,EAAC"}},
    {"offset": {"line": 186, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hkeep/Desktop/World%20Markets/components/IndicesTable.js"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\n\r\nconst IndicesTable = ({ data }) => {\r\n    const [sortConfig, setSortConfig] = useState({ key: 'name', direction: 'ascending' });\r\n\r\n    const sortedData = React.useMemo(() => {\r\n        let sortableItems = [...data];\r\n        if (sortConfig !== null) {\r\n            sortableItems.sort((a, b) => {\r\n                let aValue = a[sortConfig.key];\r\n                let bValue = b[sortConfig.key];\r\n\r\n                // Handle numbers\r\n                if (typeof aValue === 'number' && typeof bValue === 'number') {\r\n                    // direct comparison\r\n                } else {\r\n                    aValue = String(aValue).toLowerCase();\r\n                    bValue = String(bValue).toLowerCase();\r\n                }\r\n\r\n                if (aValue < bValue) {\r\n                    return sortConfig.direction === 'ascending' ? -1 : 1;\r\n                }\r\n                if (aValue > bValue) {\r\n                    return sortConfig.direction === 'ascending' ? 1 : -1;\r\n                }\r\n                return 0;\r\n            });\r\n        }\r\n        return sortableItems;\r\n    }, [data, sortConfig]);\r\n\r\n    const requestSort = (key) => {\r\n        let direction = 'ascending';\r\n        if (sortConfig.key === key && sortConfig.direction === 'ascending') {\r\n            direction = 'descending';\r\n        }\r\n        setSortConfig({ key, direction });\r\n    };\r\n\r\n    const getSortIndicator = (key) => {\r\n        if (sortConfig.key !== key) return '↕';\r\n        return sortConfig.direction === 'ascending' ? '▲' : '▼';\r\n    };\r\n\r\n    return (\r\n        <div className=\"table-container glass-panel\">\r\n            <table className=\"indices-table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th onClick={() => requestSort('region')}>Region {getSortIndicator('region')}</th>\r\n                        <th onClick={() => requestSort('name')}>Index {getSortIndicator('name')}</th>\r\n                        <th onClick={() => requestSort('price')}>Price {getSortIndicator('price')}</th>\r\n                        <th onClick={() => requestSort('changePercent')}>% Return {getSortIndicator('changePercent')}</th>\r\n                        <th onClick={() => requestSort('changeAmount')}>$ Gain {getSortIndicator('changeAmount')}</th>\r\n                        <th onClick={() => requestSort('marketState')}>Status {getSortIndicator('marketState')}</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {sortedData.map((idx) => {\r\n                        const isPositive = (idx.changePercent || 0) >= 0;\r\n                        const state = idx.marketState || 'CLOSED';\r\n                        const isClosed = state === 'CLOSED' || state === 'POST' || state === 'PRE' || state === 'POSTPOST';\r\n\r\n                        // Logic: Grey if closed. If open: Green (pos) / Red (neg)\r\n                        const rowColorClass = isClosed ? 'text-grey' : (isPositive ? 'text-green' : 'text-red');\r\n\r\n                        return (\r\n                            <tr key={idx.symbol}>\r\n                                <td>{idx.region}</td>\r\n                                <td className=\"font-bold\">{idx.name}</td>\r\n                                <td>{idx.price?.toLocaleString()}</td>\r\n                                <td className={rowColorClass}>{idx.changePercent ? idx.changePercent.toFixed(2) : '0.00'}%</td>\r\n                                <td className={rowColorClass}>{idx.changeAmount ? idx.changeAmount.toFixed(2) : '0.00'}</td>\r\n                                <td className={`status-badge ${rowColorClass}`}>{state}</td>\r\n                            </tr>\r\n                        );\r\n                    })}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default IndicesTable;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 428, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hkeep/Desktop/World%20Markets/app/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport WorldMap from '../components/WorldMap';\r\nimport IndicesTable from '../components/IndicesTable';\r\n\r\nexport default function Home() {\r\n    const [marketData, setMarketData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            try {\r\n                const res = await fetch('/api/market-data');\r\n                const data = await res.json();\r\n                if (data.indices) {\r\n                    setMarketData(data.indices);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Failed to fetch data\", error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n    return (\r\n        <main className=\"main-content\">\r\n            <header className=\"hero-section\">\r\n                <h1 className=\"title-gradient\">World Markets</h1>\r\n                <p className=\"subtitle\">Real-time global market indices visualization</p>\r\n            </header>\r\n\r\n            {loading ? (\r\n                <div className=\"loading-container\">\r\n                    <div className=\"spinner\"></div>\r\n                    <p>Loading Market Data...</p>\r\n                </div>\r\n            ) : (\r\n                <>\r\n                    <section className=\"map-section\">\r\n                        <WorldMap data={marketData} />\r\n                    </section>\r\n\r\n                    <section className=\"table-section\">\r\n                        <h2 className=\"section-title\">Market Data</h2>\r\n                        <IndicesTable data={marketData} />\r\n                    </section>\r\n                </>\r\n            )}\r\n        </main>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACpB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;0BAAC;YACN,eAAe;gBACX,IAAI;oBACA,MAAM,MAAM,MAAM,MAAM;oBACxB,MAAM,OAAO,MAAM,IAAI,IAAI;oBAC3B,IAAI,KAAK,OAAO,EAAE;wBACd,cAAc,KAAK,OAAO;oBAC9B;gBACJ,EAAE,OAAO,OAAO;oBACZ,QAAQ,KAAK,CAAC,wBAAwB;gBAC1C,SAAU;oBACN,WAAW;gBACf;YACJ;YACA;QACJ;yBAAG,EAAE;IAEL,qBACI,6LAAC;QAAK,WAAU;;0BACZ,6LAAC;gBAAO,WAAU;;kCACd,6LAAC;wBAAG,WAAU;kCAAiB;;;;;;kCAC/B,6LAAC;wBAAE,WAAU;kCAAW;;;;;;;;;;;;YAG3B,wBACG,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;kCAAE;;;;;;;;;;;qCAGP;;kCACI,6LAAC;wBAAQ,WAAU;kCACf,cAAA,6LAAC,oIAAQ;4BAAC,MAAM;;;;;;;;;;;kCAGpB,6LAAC;wBAAQ,WAAU;;0CACf,6LAAC;gCAAG,WAAU;0CAAgB;;;;;;0CAC9B,6LAAC,wIAAY;gCAAC,MAAM;;;;;;;;;;;;;;;;;;;;AAM5C;GA/CwB;KAAA"}}]
}