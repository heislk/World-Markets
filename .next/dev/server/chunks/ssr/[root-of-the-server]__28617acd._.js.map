{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hkeep/Desktop/World%20Markets/components/WorldMap.js"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { memo } from \"react\";\r\nimport {\r\n    ComposableMap,\r\n    Geographies,\r\n    Geography,\r\n    Marker,\r\n    ZoomableGroup\r\n} from \"react-simple-maps\";\r\nimport { Tooltip } from \"react-tooltip\";\r\n\r\nconst geoUrl = \"https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json\";\r\n\r\nconst WorldMap = ({ data }) => {\r\n    return (\r\n        <div className=\"map-container glass-panel\">\r\n            <ComposableMap projection=\"geoMercator\" projectionConfig={{ scale: 120 }}>\r\n                <ZoomableGroup center={[0, 20]} zoom={1} minZoom={1} maxZoom={4}>\r\n                    <Geographies geography={geoUrl}>\r\n                        {({ geographies }) =>\r\n                            geographies.map((geo) => (\r\n                                <Geography\r\n                                    key={geo.rsmKey}\r\n                                    geography={geo}\r\n                                    fill=\"#2a2a2a\" // Neutral dark grey for land\r\n                                    stroke=\"#404040\"\r\n                                    strokeWidth={0.5}\r\n                                    style={{\r\n                                        default: { outline: \"none\" },\r\n                                        hover: { fill: \"#333333\", outline: \"none\" },\r\n                                        pressed: { outline: \"none\" },\r\n                                    }}\r\n                                />\r\n                            ))\r\n                        }\r\n                    </Geographies>\r\n\r\n                    {data.map((idx) => {\r\n                        // Logic for coloring\r\n                        const state = idx.marketState || 'CLOSED'; // Default to closed if unknown\r\n                        const isClosed = state === 'CLOSED' || state === 'POST' || state === 'PRE' || state === 'POSTPOST';\r\n                        const isPositive = (idx.changePercent || 0) >= 0;\r\n\r\n                        // User Rule: \"Grey if closed and then if open and positive then green, red for negative\"\r\n                        let color = '#737373'; // Neutral Grey (Default/Closed)\r\n\r\n                        if (!isClosed) {\r\n                            color = isPositive ? '#22c55e' : '#ef4444'; // Green : Red\r\n                        }\r\n\r\n                        // Tooltip Content\r\n                        const priceDisplay = idx.price ? idx.price.toLocaleString() : 'N/A';\r\n                        const returnDisplay = idx.changePercent ? idx.changePercent.toFixed(2) : '0.00';\r\n                        const gainDisplay = idx.changeAmount ? idx.changeAmount.toFixed(2) : '0.00';\r\n\r\n                        const toolTipContent = `\r\n               <div style=\"font-weight:bold; margin-bottom:4px;\">${idx.name} (${idx.symbol})</div>\r\n               <div>Price: ${priceDisplay}</div>\r\n               <div>Return: ${returnDisplay}%</div>\r\n               <div>Gain: ${gainDisplay}</div>\r\n               <div style=\"font-size:0.8em; opacity:0.7; margin-top:4px;\">${state}</div>\r\n             `;\r\n\r\n                        return (\r\n                            <Marker key={idx.symbol} coordinates={[idx.long, idx.lat]}>\r\n                                <a\r\n                                    data-tooltip-id=\"my-tooltip\"\r\n                                    data-tooltip-html={toolTipContent}\r\n                                    data-tooltip-place=\"top\"\r\n                                >\r\n                                    <circle\r\n                                        r={5}\r\n                                        fill={color}\r\n                                        stroke=\"#fff\"\r\n                                        strokeWidth={0.5}\r\n                                        style={{ cursor: 'pointer', transition: 'all 0.3s ease' }}\r\n                                        className=\"marker-circle\"\r\n                                    />\r\n                                    <text\r\n                                        textAnchor=\"middle\"\r\n                                        y={1.5}\r\n                                        style={{\r\n                                            fontFamily: \"system-ui\",\r\n                                            fill: \"#fff\",\r\n                                            fontSize: \"3px\",\r\n                                            fontWeight: \"bold\",\r\n                                            pointerEvents: \"none\"\r\n                                        }}\r\n                                    >\r\n                                        {Math.abs(idx.changePercent || 0).toFixed(1)}%\r\n                                    </text>\r\n                                </a>\r\n                            </Marker>\r\n                        );\r\n                    })}\r\n                </ZoomableGroup >\r\n            </ComposableMap >\r\n            <Tooltip id=\"my-tooltip\" style={{ backgroundColor: \"#242424\", color: \"#e5e5e5\", border: \"1px solid #404040\", borderRadius: \"8px\", zIndex: 999 }} />\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default memo(WorldMap);\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAOA;AAVA;;;;;AAYA,MAAM,SAAS;AAEf,MAAM,WAAW,CAAC,EAAE,IAAI,EAAE;IACtB,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC,+KAAa;gBAAC,YAAW;gBAAc,kBAAkB;oBAAE,OAAO;gBAAI;0BACnE,cAAA,8OAAC,+KAAa;oBAAC,QAAQ;wBAAC;wBAAG;qBAAG;oBAAE,MAAM;oBAAG,SAAS;oBAAG,SAAS;;sCAC1D,8OAAC,6KAAW;4BAAC,WAAW;sCACnB,CAAC,EAAE,WAAW,EAAE,GACb,YAAY,GAAG,CAAC,CAAC,oBACb,8OAAC,2KAAS;wCAEN,WAAW;wCACX,MAAK;wCACL,QAAO;wCACP,aAAa;wCACb,OAAO;4CACH,SAAS;gDAAE,SAAS;4CAAO;4CAC3B,OAAO;gDAAE,MAAM;gDAAW,SAAS;4CAAO;4CAC1C,SAAS;gDAAE,SAAS;4CAAO;wCAC/B;uCATK,IAAI,MAAM;;;;;;;;;;wBAe9B,KAAK,GAAG,CAAC,CAAC;4BACP,qBAAqB;4BACrB,MAAM,QAAQ,IAAI,WAAW,IAAI,UAAU,+BAA+B;4BAC1E,MAAM,WAAW,UAAU,YAAY,UAAU,UAAU,UAAU,SAAS,UAAU;4BACxF,MAAM,aAAa,CAAC,IAAI,aAAa,IAAI,CAAC,KAAK;4BAE/C,yFAAyF;4BACzF,IAAI,QAAQ,WAAW,gCAAgC;4BAEvD,IAAI,CAAC,UAAU;gCACX,QAAQ,aAAa,YAAY,WAAW,cAAc;4BAC9D;4BAEA,kBAAkB;4BAClB,MAAM,eAAe,IAAI,KAAK,GAAG,IAAI,KAAK,CAAC,cAAc,KAAK;4BAC9D,MAAM,gBAAgB,IAAI,aAAa,GAAG,IAAI,aAAa,CAAC,OAAO,CAAC,KAAK;4BACzE,MAAM,cAAc,IAAI,YAAY,GAAG,IAAI,YAAY,CAAC,OAAO,CAAC,KAAK;4BAErE,MAAM,iBAAiB,CAAC;iEACiB,EAAE,IAAI,IAAI,CAAC,EAAE,EAAE,IAAI,MAAM,CAAC;2BAChE,EAAE,aAAa;4BACd,EAAE,cAAc;0BAClB,EAAE,YAAY;0EACkC,EAAE,MAAM;aACrE,CAAC;4BAEU,qBACI,8OAAC,wKAAM;gCAAkB,aAAa;oCAAC,IAAI,IAAI;oCAAE,IAAI,GAAG;iCAAC;0CACrD,cAAA,8OAAC;oCACG,mBAAgB;oCAChB,qBAAmB;oCACnB,sBAAmB;;sDAEnB,8OAAC;4CACG,GAAG;4CACH,MAAM;4CACN,QAAO;4CACP,aAAa;4CACb,OAAO;gDAAE,QAAQ;gDAAW,YAAY;4CAAgB;4CACxD,WAAU;;;;;;sDAEd,8OAAC;4CACG,YAAW;4CACX,GAAG;4CACH,OAAO;gDACH,YAAY;gDACZ,MAAM;gDACN,UAAU;gDACV,YAAY;gDACZ,eAAe;4CACnB;;gDAEC,KAAK,GAAG,CAAC,IAAI,aAAa,IAAI,GAAG,OAAO,CAAC;gDAAG;;;;;;;;;;;;;+BAzB5C,IAAI,MAAM;;;;;wBA8B/B;;;;;;;;;;;;0BAGR,8OAAC,+KAAO;gBAAC,IAAG;gBAAa,OAAO;oBAAE,iBAAiB;oBAAW,OAAO;oBAAW,QAAQ;oBAAqB,cAAc;oBAAO,QAAQ;gBAAI;;;;;;;;;;;;AAG1J;qDAEe,IAAA,6MAAI,EAAC"}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hkeep/Desktop/World%20Markets/components/IndicesTable.js"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\n\r\nconst IndicesTable = ({ data }) => {\r\n    const [sortConfig, setSortConfig] = useState({ key: 'name', direction: 'ascending' });\r\n\r\n    const sortedData = React.useMemo(() => {\r\n        let sortableItems = [...data];\r\n        if (sortConfig !== null) {\r\n            sortableItems.sort((a, b) => {\r\n                let aValue = a[sortConfig.key];\r\n                let bValue = b[sortConfig.key];\r\n\r\n                // Handle numbers\r\n                if (typeof aValue === 'number' && typeof bValue === 'number') {\r\n                    // direct comparison\r\n                } else {\r\n                    aValue = String(aValue).toLowerCase();\r\n                    bValue = String(bValue).toLowerCase();\r\n                }\r\n\r\n                if (aValue < bValue) {\r\n                    return sortConfig.direction === 'ascending' ? -1 : 1;\r\n                }\r\n                if (aValue > bValue) {\r\n                    return sortConfig.direction === 'ascending' ? 1 : -1;\r\n                }\r\n                return 0;\r\n            });\r\n        }\r\n        return sortableItems;\r\n    }, [data, sortConfig]);\r\n\r\n    const requestSort = (key) => {\r\n        let direction = 'ascending';\r\n        if (sortConfig.key === key && sortConfig.direction === 'ascending') {\r\n            direction = 'descending';\r\n        }\r\n        setSortConfig({ key, direction });\r\n    };\r\n\r\n    const getSortIndicator = (key) => {\r\n        if (sortConfig.key !== key) return '↕';\r\n        return sortConfig.direction === 'ascending' ? '▲' : '▼';\r\n    };\r\n\r\n    return (\r\n        <div className=\"table-container glass-panel\">\r\n            <table className=\"indices-table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th onClick={() => requestSort('region')}>Region {getSortIndicator('region')}</th>\r\n                        <th onClick={() => requestSort('name')}>Index {getSortIndicator('name')}</th>\r\n                        <th onClick={() => requestSort('price')}>Price {getSortIndicator('price')}</th>\r\n                        <th onClick={() => requestSort('changePercent')}>% Return {getSortIndicator('changePercent')}</th>\r\n                        <th onClick={() => requestSort('changeAmount')}>$ Gain {getSortIndicator('changeAmount')}</th>\r\n                        <th onClick={() => requestSort('marketState')}>Status {getSortIndicator('marketState')}</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {sortedData.map((idx) => {\r\n                        const isPositive = (idx.changePercent || 0) >= 0;\r\n                        const state = idx.marketState || 'CLOSED';\r\n                        const isClosed = state === 'CLOSED' || state === 'POST' || state === 'PRE' || state === 'POSTPOST';\r\n\r\n                        // Logic: Grey if closed. If open: Green (pos) / Red (neg)\r\n                        const rowColorClass = isClosed ? 'text-grey' : (isPositive ? 'text-green' : 'text-red');\r\n\r\n                        return (\r\n                            <tr key={idx.symbol}>\r\n                                <td>{idx.region}</td>\r\n                                <td className=\"font-bold\">{idx.name}</td>\r\n                                <td>{idx.price?.toLocaleString()}</td>\r\n                                <td className={rowColorClass}>{idx.changePercent ? idx.changePercent.toFixed(2) : '0.00'}%</td>\r\n                                <td className={rowColorClass}>{idx.changeAmount ? idx.changeAmount.toFixed(2) : '0.00'}</td>\r\n                                <td className={`status-badge ${rowColorClass}`}>{state}</td>\r\n                            </tr>\r\n                        );\r\n                    })}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default IndicesTable;\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIA,MAAM,eAAe,CAAC,EAAE,IAAI,EAAE;IAC1B,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;QAAE,KAAK;QAAQ,WAAW;IAAY;IAEnF,MAAM,aAAa,gNAAK,CAAC,OAAO,CAAC;QAC7B,IAAI,gBAAgB;eAAI;SAAK;QAC7B,IAAI,eAAe,MAAM;YACrB,cAAc,IAAI,CAAC,CAAC,GAAG;gBACnB,IAAI,SAAS,CAAC,CAAC,WAAW,GAAG,CAAC;gBAC9B,IAAI,SAAS,CAAC,CAAC,WAAW,GAAG,CAAC;gBAE9B,iBAAiB;gBACjB,IAAI,OAAO,WAAW,YAAY,OAAO,WAAW,UAAU;gBAC1D,oBAAoB;gBACxB,OAAO;oBACH,SAAS,OAAO,QAAQ,WAAW;oBACnC,SAAS,OAAO,QAAQ,WAAW;gBACvC;gBAEA,IAAI,SAAS,QAAQ;oBACjB,OAAO,WAAW,SAAS,KAAK,cAAc,CAAC,IAAI;gBACvD;gBACA,IAAI,SAAS,QAAQ;oBACjB,OAAO,WAAW,SAAS,KAAK,cAAc,IAAI,CAAC;gBACvD;gBACA,OAAO;YACX;QACJ;QACA,OAAO;IACX,GAAG;QAAC;QAAM;KAAW;IAErB,MAAM,cAAc,CAAC;QACjB,IAAI,YAAY;QAChB,IAAI,WAAW,GAAG,KAAK,OAAO,WAAW,SAAS,KAAK,aAAa;YAChE,YAAY;QAChB;QACA,cAAc;YAAE;YAAK;QAAU;IACnC;IAEA,MAAM,mBAAmB,CAAC;QACtB,IAAI,WAAW,GAAG,KAAK,KAAK,OAAO;QACnC,OAAO,WAAW,SAAS,KAAK,cAAc,MAAM;IACxD;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAM,WAAU;;8BACb,8OAAC;8BACG,cAAA,8OAAC;;0CACG,8OAAC;gCAAG,SAAS,IAAM,YAAY;;oCAAW;oCAAQ,iBAAiB;;;;;;;0CACnE,8OAAC;gCAAG,SAAS,IAAM,YAAY;;oCAAS;oCAAO,iBAAiB;;;;;;;0CAChE,8OAAC;gCAAG,SAAS,IAAM,YAAY;;oCAAU;oCAAO,iBAAiB;;;;;;;0CACjE,8OAAC;gCAAG,SAAS,IAAM,YAAY;;oCAAkB;oCAAU,iBAAiB;;;;;;;0CAC5E,8OAAC;gCAAG,SAAS,IAAM,YAAY;;oCAAiB;oCAAQ,iBAAiB;;;;;;;0CACzE,8OAAC;gCAAG,SAAS,IAAM,YAAY;;oCAAgB;oCAAQ,iBAAiB;;;;;;;;;;;;;;;;;;8BAGhF,8OAAC;8BACI,WAAW,GAAG,CAAC,CAAC;wBACb,MAAM,aAAa,CAAC,IAAI,aAAa,IAAI,CAAC,KAAK;wBAC/C,MAAM,QAAQ,IAAI,WAAW,IAAI;wBACjC,MAAM,WAAW,UAAU,YAAY,UAAU,UAAU,UAAU,SAAS,UAAU;wBAExF,0DAA0D;wBAC1D,MAAM,gBAAgB,WAAW,cAAe,aAAa,eAAe;wBAE5E,qBACI,8OAAC;;8CACG,8OAAC;8CAAI,IAAI,MAAM;;;;;;8CACf,8OAAC;oCAAG,WAAU;8CAAa,IAAI,IAAI;;;;;;8CACnC,8OAAC;8CAAI,IAAI,KAAK,EAAE;;;;;;8CAChB,8OAAC;oCAAG,WAAW;;wCAAgB,IAAI,aAAa,GAAG,IAAI,aAAa,CAAC,OAAO,CAAC,KAAK;wCAAO;;;;;;;8CACzF,8OAAC;oCAAG,WAAW;8CAAgB,IAAI,YAAY,GAAG,IAAI,YAAY,CAAC,OAAO,CAAC,KAAK;;;;;;8CAChF,8OAAC;oCAAG,WAAW,CAAC,aAAa,EAAE,eAAe;8CAAG;;;;;;;2BAN5C,IAAI,MAAM;;;;;oBAS3B;;;;;;;;;;;;;;;;;AAKpB;uCAEe"}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hkeep/Desktop/World%20Markets/app/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport WorldMap from '../components/WorldMap';\r\nimport IndicesTable from '../components/IndicesTable';\r\n\r\nexport default function Home() {\r\n    const [marketData, setMarketData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            try {\r\n                const res = await fetch('/api/market-data');\r\n                const data = await res.json();\r\n                if (data.indices) {\r\n                    setMarketData(data.indices);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Failed to fetch data\", error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n    return (\r\n        <main className=\"main-content\">\r\n            <header className=\"hero-section\">\r\n                <h1 className=\"title-gradient\">World Markets</h1>\r\n                <p className=\"subtitle\">Real-time global market indices visualization</p>\r\n            </header>\r\n\r\n            {loading ? (\r\n                <div className=\"loading-container\">\r\n                    <div className=\"spinner\"></div>\r\n                    <p>Loading Market Data...</p>\r\n                </div>\r\n            ) : (\r\n                <>\r\n                    <section className=\"map-section\">\r\n                        <WorldMap data={marketData} />\r\n                    </section>\r\n\r\n                    <section className=\"table-section\">\r\n                        <h2 className=\"section-title\">Market Data</h2>\r\n                        <IndicesTable data={marketData} />\r\n                    </section>\r\n                </>\r\n            )}\r\n        </main>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACpB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACN,eAAe;YACX,IAAI;gBACA,MAAM,MAAM,MAAM,MAAM;gBACxB,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,IAAI,KAAK,OAAO,EAAE;oBACd,cAAc,KAAK,OAAO;gBAC9B;YACJ,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,wBAAwB;YAC1C,SAAU;gBACN,WAAW;YACf;QACJ;QACA;IACJ,GAAG,EAAE;IAEL,qBACI,8OAAC;QAAK,WAAU;;0BACZ,8OAAC;gBAAO,WAAU;;kCACd,8OAAC;wBAAG,WAAU;kCAAiB;;;;;;kCAC/B,8OAAC;wBAAE,WAAU;kCAAW;;;;;;;;;;;;YAG3B,wBACG,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;kCAAE;;;;;;;;;;;qCAGP;;kCACI,8OAAC;wBAAQ,WAAU;kCACf,cAAA,8OAAC,iIAAQ;4BAAC,MAAM;;;;;;;;;;;kCAGpB,8OAAC;wBAAQ,WAAU;;0CACf,8OAAC;gCAAG,WAAU;0CAAgB;;;;;;0CAC9B,8OAAC,qIAAY;gCAAC,MAAM;;;;;;;;;;;;;;;;;;;;AAM5C"}}]
}